# 审计检查清单

> **目的**：映射维度到源规则的索引文件。详细检查见下面列出的源文件。

## 维度 → 源文件映射

<dimension_source_mapping>
**使用此表查找每个维度的详细规则：**

| 维度 | 源规则文件 | 适用于 |
|------|------------|--------|
| D0: 结构 | `type-plugin.md` | 仅插件 |
| D0.1: 跨组件 | `cross-composite.md` | 多组件 |
| D0.2: 设计一致性 | `cross-design-coherence.md` | 多文件 |
| D0.3: 渐进加载 | `cross-progressive-loading.md` | 技能/插件 |
| D0.4: 命名与编号 | `rules-universal.md` → 命名、编号与顺序规则 | 全部 |
| D0.5: 引用完整性 | `rules-universal.md` → 引用完整性规则 | 全部 |
| D0.6: 图表与流程图 | `rules-universal.md` → 图表与流程图规则 | 如有图表 |
| D0.7: 语言表达 | `rules-universal.md` → 语言表达规则 | 全部 |
| D0.8: 安全与合规 | `rules-universal.md` → 安全与合规规则 | 全部 |
| D0.8.1: 跨平台路径 | `rules-universal.md` → 跨平台路径与编码 | 如有脚本 |
| D0.9: 结构化标签 | `rules-universal.md` → 措辞模式 → 结构化标签块 | 如有标签 |
| D0.10: 结构完整性 | `rules-structure-integrity.md` | 如基于规则 |
| D0.11: 运行时行为 | `rules-runtime-behavior.md` | 如有运行时逻辑 |
| D0.12: 同类文件一致性 | `cross-design-coherence.md` → 同类文件一致性 | 多文件 |
| D1-2: Fatal 与 Severe | `rules-universal.md` → 通用应标记 | 全部 |
| D3-6: 质量 | `rules-universal.md` → 通用提示词质量规则 | 全部 |
| D7-8: 优化 | `ref-gpt-prompting-standard.md`、`ref-codex-skills-standard.md` | 全部 |
</dimension_source_mapping>

---

## 内容类型 → 维度适用性

<dimension_applicability_matrix>
**关键**：使用此矩阵确定每种内容类型要执行哪些维度。

| 维度 | 提示词 | 记忆 | 技能 | 插件 | 复合 |
|------|--------|------|------|------|------|
| D0: 结构 | - | - | - | ✅ | ✅ |
| D0.1: 跨组件 | - | - | ⚡ | ✅ | ✅ |
| D0.2: 设计一致性 | - | - | ✅ | ✅ | ✅ |
| D0.3: 渐进加载 | - | - | ✅ | ✅ | ✅ |
| D0.4: 命名与编号 | ✅ | ✅ | ✅ | ✅ | ✅ |
| D0.5: 引用完整性 | ✅ | ✅ | ✅ | ✅ | ✅ |
| D0.6: 图表与流程图 | ⚡ | ⚡ | ⚡ | ⚡ | ⚡ |
| D0.7: 语言表达 | ✅ | ✅ | ✅ | ✅ | ✅ |
| D0.8: 安全与合规 | ✅ | ✅ | ✅ | ✅ | ✅ |
| D0.8.1: 跨平台路径 | ⚡ | ⚡ | ✅ | ✅ | ✅ |
| D0.9: 结构化标签 | ⚡ | ⚡ | ⚡ | ⚡ | ⚡ |
| D0.10: 结构完整性 | ⚡ | ⚡ | ✅ | ✅ | ✅ |
| D0.11: 运行时行为 | ⚡ | ⚡ | ✅ | ✅ | ✅ |
| D0.12: 同类文件一致性 | - | - | ✅ | ✅ | ✅ |
| D1-2: Fatal 与 Severe | ✅ | ✅ | ✅ | ✅ | ✅ |
| D3-6: 质量 | ✅ | ✅ | ✅ | ✅ | ✅ |
| D7-8: 优化 | ✅ | ✅ | ✅ | ✅ | ✅ |

**图例**：✅ = 必须执行 | ⚡ = 条件执行（如内容有相关元素）| - = 跳过

**各类型最少维度数**：
- **提示词**：8 个维度（D0.4、D0.5、D0.7、D0.8 + D1-2、D3-6、D7-8；D0.6/D0.9 条件执行）
- **记忆**：8 个维度（同提示词）
- **技能**：16 个维度（13 必须 + 3 条件，仅跳过 D0）
- **插件**：17 个维度（全部）
- **复合**：17 个维度（全部）
</dimension_applicability_matrix>

---

## 执行说明

对于每个适用的维度：

1. **定位源文件** 使用上面的映射表
2. **阅读相关章节** 在源文件中
3. **执行所有检查** 源文件中列出的
4. **记录证据** 对于每个检查（行号、引用、计数）
5. **应用五点核心验证** 在确认任何问题前（见 `methodology-core.md`）

---

## 尺寸阈值快速参考

> **权威来源**：`methodology-core.md` → 必要性阈值

| 内容 | 软限制 | 容差 |
|------|--------|------|
| SKILL.md 正文 | 500 行 | ≤10% 不是问题 |
| 参考文件 | 500 行 | 按内容性质评估 |
| L1 元数据 | ~100 词 | - |

---

## 示例

### 应标记

**结构：**
- `plugin.json` 在根目录（不在 `.claude-plugin/`）→ Fatal
- `skill.md` 而非 `SKILL.md` → Fatal
- 组件在 `.claude-plugin/` 内部 → Fatal

**路径：**
- 钩子使用 `/Users/name/plugins/script.sh` → Severe（硬编码绝对路径）
- MCP 配置使用绝对路径而非相对路径 → Severe

**内容：**
- 描述缺少触发条件 → Severe
- 引用的代理不存在 → Severe
- 脚本导入不存在的模块 → Fatal

**一致性：**
- 同一概念：'task' vs 'job' → Warning
- 引用 R3 但未定义 → Severe

### 不应标记

**许可证/版权：**
- 固定许可证头 → 有意为之
- 品牌标识符 → 设计要求

**尺寸（分层）：**
- 504/500 行（0.8% 超出）→ **不是问题**
- 520/500 行（4% 超出）→ **不是问题**
- 550/500 行（10% 超出）→ 最多 Info
- 590/500 行（18% 超出）→ 仅 Info

**设计选择：**
- `cmds/` 而非 `commands/` → 有效
- 不同的组织方式 → 设计选择

**AI 能力：**
- 无 JSON 解释 → AI 已知
- 假设 markdown 知识 → AI 已知

**可选：**
- 缺少版本号 → 可选
- 无 README.md → 可选
