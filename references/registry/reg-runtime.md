# 运行时行为检查项注册表

> **唯一权威定义**：所有运行时行为检查项在此定义，其他文件只能引用ID。
> **适用范围**：ALL = 所有类型 | S = Skill | P = Plugin | A = Agentic内容

## 检查项列表

### 术语准确性 (T-0xx) - 通用

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-001 | 同概念同术语 | 全文一个概念一个术语 | Warning | ALL |
| T-002 | 术语符合平台标准 | CLI/API/SDK术语正确 | Severe | ALL |
| T-003 | 技术词汇正确 | 术语在正确上下文使用 | Severe | ALL |
| T-004 | 无误导术语 | 术语准确描述功能 | Severe | ALL |

### 命名冲突检测 (T-1xx) - 通用

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-101 | 无名称冲突 | 不同实体 = 不同名称 | Severe | ALL |
| T-102 | 标签名唯一 | 每个标签名 = 一个用途 | Severe | ALL |
| T-103 | 无保留字覆盖 | 自定义名称不覆盖系统术语 | Warning | ALL |
| T-104 | 跨范围唯一 | 相关范围内名称唯一 | Warning | S,P |

### 冲突检测 (T-2xx) - 通用

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-201 | 无矛盾规则 | 规则不冲突 | Fatal | ALL |
| T-202 | 无重叠路由 | 边界清晰或有明确优先级 | Severe | S,P |
| T-203 | 无无限循环 | 所有循环有退出条件 | Fatal | ALL |
| T-204 | 无死端 | 所有路径到达结论 | Severe | S,P |
| T-205 | 无循环引用 | 无 A→B→C→A 模式 | Fatal | ALL |

### 路由规则 (T-3xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-301 | 所有输入有路由 | 每个输入类型有处理器 | Severe | S,P |
| T-302 | 默认路由存在 | 未匹配输入有回退 | Warning | S,P |
| T-303 | 路由条件清晰 | 匹配条件无歧义 | Severe | S,P |
| T-304 | 路由优先级定义 | 重叠路由有优先级 | Severe | S,P |
| T-305 | 无循环路由 | 无 A→B→C→A 路由循环 | Fatal | S,P |
| T-306 | 路由目标存在 | 所有目标处理器存在 | Severe | S,P |

### 触发检查 (T-4xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-401 | 入口条件清晰 | 何时触发已定义 | Severe | S,P |
| T-402 | 退出条件清晰 | 何时退出已定义 | Severe | S,P |
| T-403 | 所有目标可达 | 存在入口路径 | Severe | S,P |
| T-404 | 无孤立元素 | 每个元素有入口触发 | Severe | S,P |
| T-405 | 触发条件可测试 | 条件可评估 | Severe | S,P |

### 流程检查 (T-5xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-501 | 主流程已文档化 | 主要正常路径清晰 | Severe | S,P |
| T-502 | 无无限循环 | 所有循环有退出条件 | Fatal | S,P |
| T-503 | 无死端 | 所有分支到达结论 | Severe | S,P |
| T-504 | 错误处理存在 | 异常路径已定义 | Warning | S,P |
| T-505 | 流程顺序合理 | 步骤顺序正确 | Severe | S,P |

### 输出格式检查 (T-6xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-601 | 格式已指定 | 输出格式已定义 | Severe | S,P |
| T-602 | 模式完整 | 必需字段已文档化 | Severe | S,P |
| T-603 | 跨元素一致 | 相关元素使用兼容格式 | Severe | S,P |
| T-604 | 空值处理一致 | 缺失值统一处理 | Warning | S,P |
| T-605 | i18n合规 | 语言规则遵守 (如适用) | Warning | S,P |

### 阶段特定 (T-7xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-701 | 初始和终止阶段已定义 | 有开始和结束 | Severe | A |
| T-702 | 错误/恢复转换存在 | 异常处理 | Warning | A |

### 命令特定 (T-8xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-801 | 参数/标志已指定 | 命令选项已文档化 | Warning | P |
| T-802 | 帮助触发存在 | 有帮助命令 | Info | P |
| T-803 | 返回码已文档化 | 退出码含义 | Info | P |

### 外部工具特定 (T-9xx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-901 | 工具可用性检查已定义 | 检查工具存在 | Warning | S,P |
| T-902 | 不可用时有回退 | 备选方案 | Warning | S,P |
| T-903 | 输入清理 (注入防护) | 注入防护 = 缺失则Fatal | Fatal | S,P |
| T-904 | 超时已定义 | 有超时限制 | Warning | S,P |

### 渐进加载 (T-Axx) - 条件

| ID | 检查项 | 要求 | 严重性 | 适用 |
|----|--------|------|--------|------|
| T-A01 | 核心内容在L1/L2 | 基本规则立即可用 | Severe | S,P |
| T-A02 | 详细内容在L3 | 具体规则在引用中 | Warning | S,P |
| T-A03 | 模板引用而非嵌入 | 大模板在单独文件 | Warning | S,P |
| T-A04 | 脚本可调用 | 有效调用语法 | Severe | S,P |
| T-A05 | 无循环加载 | 模块不循环 | Fatal | S,P |
| T-A06 | 加载失败有处理 | 缺失模块被捕获 | Warning | S,P |

## 执行方法

```
1. 通用检查：术语、命名冲突、冲突检测 (总是执行)
2. 条件检查：根据内容特性选择性执行
   - 有路由/调度逻辑 → 路由规则
   - 有多阶段工作流 → 触发、流程、阶段检查
   - 有CLI/命令接口 → 命令检查
   - 有工具调用 → 外部工具检查
   - Skill/Plugin有分层结构 → 渐进加载检查
3. 输出：「运行时行为: 术语OK/N问题; 命名M冲突; 冲突K个; [条件检查结果]」
```

## 适用矩阵

| 检查类别 | 执行条件 |
|----------|----------|
| 术语准确性 | 总是 |
| 命名冲突 | 总是 |
| 冲突检测 | 总是 |
| 路由规则 | 如果有路由/调度逻辑 |
| 阶段检查 | 如果有多阶段工作流 |
| 命令检查 | 如果有CLI/命令接口 |
| 外部工具检查 | 如果有工具调用 |
| 渐进加载 | 如果Skill/Plugin有分层结构 |
